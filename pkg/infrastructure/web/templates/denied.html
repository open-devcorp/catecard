{{ define "content" }}
<div class="max-w-screen-lg mx-auto p-4">
    <h2 class="text-2xl font-semibold text-red-600">Denegado</h2>
    <p class="mt-2 text-gray-600">No se pudo completar la operaci√≥n.</p>

    {{/* Prefer 'message' key (from handler) then 'Message' for compatibility */}}
    {{ with index . "message" }}
    <div class="mt-4 bg-red-50 border border-red-200 p-3 rounded">
        <p class="font-medium text-red-800">Mensaje: {{ . }}</p>
    </div>
    {{ else }}
    {{ with .Message }}
    <div class="mt-4 bg-red-50 border border-red-200 p-3 rounded">
        <p class="font-medium text-red-800">Mensaje: {{ . }}</p>
    </div>
    {{ end }}
    {{ end }}

    {{/* If there's a QR object, render its important fields */}}
    {{ with index . "qr" }}
    <div class="mt-4 border p-3 rounded bg-white">
        <h3 class="font-medium text-red-700">Detalles del QR</h3>
        <div class="text-sm mt-2">
            <p>ID: <strong>{{ .ID }}</strong></p>
            <p>Foro: <strong>{{ .Forum }}</strong></p>
            <p>Group ID: <strong>{{ .GroupId }}</strong></p>
        </div>
    </div>
    {{ else }}
    {{/* Otherwise, if Data exists (string/JSON), show it */}}
    {{ with .Data }}
    <div class="mt-4">
        <h3 class="font-medium text-red-700">Detalles</h3>
        <pre class="mt-2 p-2 bg-white rounded text-sm text-gray-800 overflow-x-auto">{{ . }}</pre>
    </div>
    {{ end }}
    {{ end }}

    <div class="mt-6">
        <button onclick="history.back()" class="px-4 py-2 bg-gray-700 text-white rounded hover:bg-gray-800">Volver</button>
    </div>

</div>
{{ end }}